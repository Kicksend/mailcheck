(function(b){b.fn.mailcheck=function(a,b){var d="yahoo.com,google.com,hotmail.com,gmail.com,me.com,aol.com,mac.com,live.com,comcast.net,googlemail.com,msn.com,hotmail.co.uk,yahoo.co.uk".split(",");if("object"===typeof a&&void 0===b)a.domains=a.domains||d;else{var f=a,a=b;a.domains=f||d}(d=Kicksend.mailcheck.suggest(encodeURI(this.val()),a.domains))?a.suggested&&a.suggested(this,d):a.empty&&a.empty(this)}})(jQuery);
var Kicksend={mailcheck:{threshold:0,suggest:function(b,a){var b=b.toLowerCase(),c=this.splitEmail(b),d=this.findClosestDomain(c.domain,a);return d?{address:c.address,domain:d,full:c.address+"@"+d}:!1},findClosestDomain:function(b,a){for(var c,d=0,f=null,e=0;e<a.length;e++)console.log(b+"  "+a[e]),c=this.stringCosineDistance(b,a[e]),console.log(c),c>d&&(d=c,f=a[e]);return d>=this.threshold&&null!==f&&f!==b?f:!1},toVector:function(b){var a={},b=b.split(""),c;for(c in b)a[b[c]]=void 0===a[b[c]]?1:a[b[c]]+
1;return a},sqrt:function(b){var a=new Float32Array(1),c=new Int32Array(a.buffer);a[0]=b;c[0]=1597463174-(c[0]>>1);for(c=1;5>=c;c++)a[0]*=1.5-0.5*b*a[0]*a[0];return b*a[0]},cosine:function(b,a){var c=0,d=0,f=0,e;for(e in b)void 0!=a[e]&&(f+=b[e]*a[e]),c+=b[e]*b[e];for(e in a)d+=a[e]*a[e];return f/this.sqrt(c*d)},stringCosineDistance:function(b,a){if(null==b||0===b.length||null==a||0===a.length)return 0;vector1=this.toVector(b);vector2=this.toVector(a);return this.cosine(vector1,vector2)},splitEmail:function(b){b=
b.split("@");return 2>b.length?!1:{domain:b.pop(),address:b.join("@")}}}};