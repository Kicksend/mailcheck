/*1.1*/var Kicksend={mailcheck:{threshold:3,defaultDomains:"yahoo.com google.com hotmail.com gmail.com me.com aol.com mac.com live.com comcast.net googlemail.com msn.com hotmail.co.uk yahoo.co.uk facebook.com verizon.net sbcglobal.net att.net gmx.com mail.com outlook.com".split(" "),defaultTopLevelDomains:"co.jp co.uk com net org info edu gov mil".split(" "),run:function(a){a.domains=a.domains||Kicksend.mailcheck.defaultDomains;a.topLevelDomains=a.topLevelDomains||Kicksend.mailcheck.defaultTopLevelDomains;
a.distanceFunction=a.distanceFunction||Kicksend.sift3Distance;var b=Kicksend.mailcheck.suggest(encodeURI(a.email),a.domains,a.topLevelDomains,a.distanceFunction);b?a.suggested&&a.suggested(b):a.empty&&a.empty()},suggest:function(a,b,d,e){a=a.toLowerCase();var c=this.splitEmail(a);if(b=this.findClosestDomain(c.domain,b,e)){if(b!=c.domain)return{address:c.address,domain:b,full:c.address+"@"+b}}else if(a.match(/^.+@.+Å_./)&&(a=this.findClosestDomain(c.topLevelDomain,d),c.domain&&a&&a!=c.topLevelDomain))return d=
c.domain,b=d.substring(0,d.lastIndexOf(c.topLevelDomain))+a,{address:c.address,domain:b,full:c.address+"@"+b};return!1},findClosestDomain:function(a,b,d){var e,c=99,g=null;if(!a||!b)return!1;d||(d=this.sift3Distance);for(var f=0;f<b.length;f++){if(a===b[f])return a;e=d(a,b[f]);e<c&&(c=e,g=b[f])}return c<=this.threshold&&null!==g?g:!1},sift3Distance:function(a,b){if(null==a||0===a.length)return null==b||0===b.length?0:b.length;if(null==b||0===b.length)return a.length;for(var d=0,e=0,c=0,g=0;d+e<a.length&&
d+c<b.length;){if(a.charAt(d+e)==b.charAt(d+c))g++;else for(var f=c=e=0;5>f;f++){if(d+f<a.length&&a.charAt(d+f)==b.charAt(d)){e=f;break}if(d+f<b.length&&a.charAt(d)==b.charAt(d+f)){c=f;break}}d++}return(a.length+b.length)/2-g},splitEmail:function(a){a=a.split("@");if(2>a.length)return!1;for(var b=0;b<a.length;b++)if(""===a[b])return!1;var d=a.pop(),e=d.split("."),c="";if(0==e.length)return!1;if(1==e.length)c=e[0];else{for(b=1;b<e.length;b++)c+=e[b]+".";2<=e.length&&(c=c.substring(0,c.length-1))}return{topLevelDomain:c,
domain:d,address:a.join("@")}}}};"undefined"!==typeof module&&module.exports&&(module.exports=Kicksend.mailcheck);"undefined"!==typeof window&&window.jQuery&&function(a){a.fn.mailcheck=function(a){var d=this;if(a.suggested){var e=a.suggested;a.suggested=function(a){e(d,a)}}if(a.empty){var c=a.empty;a.empty=function(){c.call(null,d)}}a.email=this.val();Kicksend.mailcheck.run(a)}}(jQuery);